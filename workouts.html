<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workouts - FitTrack</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/splide@4.1.4/dist/js/splide.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/splide@4.1.4/dist/css/splide.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .gradient-bg {
            background: linear-gradient(135deg, #2D5A27 0%, #8FBC8F 50%, #FF7F7F 100%);
        }
        .exercise-card {
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        .exercise-card.selected {
            border-color: #3B82F6;
            background: #EBF8FF;
        }
        .timer-display {
            font-size: 3rem;
            font-weight: bold;
            color: #3B82F6;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .nav-bottom {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 50;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }
        .category-filter {
            transition: all 0.3s ease;
        }
        .category-filter.active {
            background: #3B82F6;
            color: white;
        }
        .workout-template {
            background: linear-gradient(135deg, #667EEA 0%, #764BA2 100%);
            color: white;
        }
        .floating-action {
            position: fixed;
            bottom: 100px;
            right: 20px;
            z-index: 40;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">
    <!-- Header -->
    <header class="gradient-bg text-white p-4 pb-8">
        <div class="flex items-center justify-between mb-6">
            <div>
                <h1 class="text-2xl font-bold">Workouts</h1>
                <p class="text-sm opacity-90">Choose your exercise</p>
            </div>
            <div class="text-right">
                <div class="text-2xl font-bold" id="workout-counter">0</div>
                <div class="text-xs opacity-90">Active Timer</div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="px-4 pb-20">
        <!-- Workout Templates -->
        <section class="mb-6">
            <h2 class="text-lg font-semibold mb-4">Quick Start Templates</h2>
            <div class="splide" id="template-carousel">
                <div class="splide__track">
                    <ul class="splide__list">
                        <li class="splide__slide">
                            <div class="workout-template rounded-xl p-6 text-center cursor-pointer" onclick="startTemplateWorkout('HIIT')">
                                <div class="text-3xl mb-2">üî•</div>
                                <h3 class="font-bold mb-1">HIIT Blast</h3>
                                <p class="text-sm opacity-90">15 min high intensity</p>
                                <div class="text-xs mt-2 opacity-75">8 exercises</div>
                            </div>
                        </li>
                        <li class="splide__slide">
                            <div class="workout-template rounded-xl p-6 text-center cursor-pointer" onclick="startTemplateWorkout('Strength')">
                                <div class="text-3xl mb-2">üí™</div>
                                <h3 class="font-bold mb-1">Strength Builder</h3>
                                <p class="text-sm opacity-90">25 min strength training</p>
                                <div class="text-xs mt-2 opacity-75">12 exercises</div>
                            </div>
                        </li>
                        <li class="splide__slide">
                            <div class="workout-template rounded-xl p-6 text-center cursor-pointer" onclick="startTemplateWorkout('Yoga')">
                                <div class="text-3xl mb-2">üßò</div>
                                <h3 class="font-bold mb-1">Morning Flow</h3>
                                <p class="text-sm opacity-90">20 min yoga flow</p>
                                <div class="text-xs mt-2 opacity-75">10 poses</div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Category Filters -->
        <section class="mb-6">
            <div class="flex space-x-2 overflow-x-auto pb-2">
                <button class="category-filter px-4 py-2 rounded-full bg-white text-sm font-medium whitespace-nowrap active" onclick="filterExercises('all')">All</button>
                <button class="category-filter px-4 py-2 rounded-full bg-white text-sm font-medium whitespace-nowrap" onclick="filterExercises('cardio')">Cardio</button>
                <button class="category-filter px-4 py-2 rounded-full bg-white text-sm font-medium whitespace-nowrap" onclick="filterExercises('strength')">Strength</button>
                <button class="category-filter px-4 py-2 rounded-full bg-white text-sm font-medium whitespace-nowrap" onclick="filterExercises('flexibility')">Flexibility</button>
                <button class="category-filter px-4 py-2 rounded-full bg-white text-sm font-medium whitespace-nowrap" onclick="filterExercises('core')">Core</button>
            </div>
        </section>

        <!-- Exercise Grid -->
        <section class="mb-6">
            <h2 class="text-lg font-semibold mb-4">Exercises</h2>
            <div class="grid grid-cols-1 gap-4" id="exercise-grid">
                <!-- Cardio Exercises -->
                <div class="exercise-card bg-white rounded-xl p-4 shadow-lg cursor-pointer" data-category="cardio" onclick="selectExercise('jumping-jacks')">
                    <div class="flex items-center">
                        <div class="w-16 h-16 bg-red-100 rounded-xl flex items-center justify-center mr-4">
                            <span class="text-2xl">üèÉ</span>
                        </div>
                        <div class="flex-1">
                            <h3 class="font-semibold text-gray-800">Jumping Jacks</h3>
                            <p class="text-sm text-gray-500">Full body cardio exercise</p>
                            <div class="flex items-center mt-2">
                                <span class="text-xs bg-red-100 text-red-600 px-2 py-1 rounded-full mr-2">Cardio</span>
                                <span class="text-xs text-gray-400">3 sets √ó 30 sec</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="exercise-card bg-white rounded-xl p-4 shadow-lg cursor-pointer" data-category="cardio" onclick="selectExercise('burpees')">
                    <div class="flex items-center">
                        <div class="w-16 h-16 bg-red-100 rounded-xl flex items-center justify-center mr-4">
                            <span class="text-2xl">üî•</span>
                        </div>
                        <div class="flex-1">
                            <h3 class="font-semibold text-gray-800">Burpees</h3>
                            <p class="text-sm text-gray-500">High intensity full body</p>
                            <div class="flex items-center mt-2">
                                <span class="text-xs bg-red-100 text-red-600 px-2 py-1 rounded-full mr-2">Cardio</span>
                                <span class="text-xs text-gray-400">3 sets √ó 10 reps</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Strength Exercises -->
                <div class="exercise-card bg-white rounded-xl p-4 shadow-lg cursor-pointer" data-category="strength" onclick="selectExercise('push-ups')">
                    <div class="flex items-center">
                        <div class="w-16 h-16 bg-blue-100 rounded-xl flex items-center justify-center mr-4">
                            <span class="text-2xl">üí™</span>
                        </div>
                        <div class="flex-1">
                            <h3 class="font-semibold text-gray-800">Push-ups</h3>
                            <p class="text-sm text-gray-500">Upper body strength</p>
                            <div class="flex items-center mt-2">
                                <span class="text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full mr-2">Strength</span>
                                <span class="text-xs text-gray-400">3 sets √ó 12 reps</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="exercise-card bg-white rounded-xl p-4 shadow-lg cursor-pointer" data-category="strength" onclick="selectExercise('squats')">
                    <div class="flex items-center">
                        <div class="w-16 h-16 bg-blue-100 rounded-xl flex items-center justify-center mr-4">
                            <span class="text-2xl">ü¶µ</span>
                        </div>
                        <div class="flex-1">
                            <h3 class="font-semibold text-gray-800">Squats</h3>
                            <p class="text-sm text-gray-500">Lower body power</p>
                            <div class="flex items-center mt-2">
                                <span class="text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full mr-2">Strength</span>
                                <span class="text-xs text-gray-400">3 sets √ó 15 reps</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="exercise-card bg-white rounded-xl p-4 shadow-lg cursor-pointer" data-category="strength" onclick="selectExercise('planks')">
                    <div class="flex items-center">
                        <div class="w-16 h-16 bg-blue-100 rounded-xl flex items-center justify-center mr-4">
                            <span class="text-2xl">üèãÔ∏è</span>
                        </div>
                        <div class="flex-1">
                            <h3 class="font-semibold text-gray-800">Planks</h3>
                            <p class="text-sm text-gray-500">Core stability</p>
                            <div class="flex items-center mt-2">
                                <span class="text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full mr-2">Core</span>
                                <span class="text-xs text-gray-400">3 sets √ó 45 sec</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Flexibility Exercises -->
                <div class="exercise-card bg-white rounded-xl p-4 shadow-lg cursor-pointer" data-category="flexibility" onclick="selectExercise('yoga-flow')">
                    <div class="flex items-center">
                        <div class="w-16 h-16 bg-green-100 rounded-xl flex items-center justify-center mr-4">
                            <span class="text-2xl">üßò</span>
                        </div>
                        <div class="flex-1">
                            <h3 class="font-semibold text-gray-800">Yoga Flow</h3>
                            <p class="text-sm text-gray-500">Flexibility & mindfulness</p>
                            <div class="flex items-center mt-2">
                                <span class="text-xs bg-green-100 text-green-600 px-2 py-1 rounded-full mr-2">Flexibility</span>
                                <span class="text-xs text-gray-400">10 min flow</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="exercise-card bg-white rounded-xl p-4 shadow-lg cursor-pointer" data-category="flexibility" onclick="selectExercise('stretching')">
                    <div class="flex items-center">
                        <div class="w-16 h-16 bg-green-100 rounded-xl flex items-center justify-center mr-4">
                            <span class="text-2xl">ü§∏</span>
                        </div>
                        <div class="flex-1">
                            <h3 class="font-semibold text-gray-800">Dynamic Stretching</h3>
                            <p class="text-sm text-gray-500">Warm-up & recovery</p>
                            <div class="flex items-center mt-2">
                                <span class="text-xs bg-green-100 text-green-600 px-2 py-1 rounded-full mr-2">Flexibility</span>
                                <span class="text-xs text-gray-400">5 min routine</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Workout Timer Modal -->
        <div id="timer-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden">
            <div class="flex items-center justify-center min-h-screen p-4">
                <div class="bg-white rounded-xl p-6 w-full max-w-sm">
                    <div class="text-center">
                        <h3 class="text-xl font-bold mb-4" id="exercise-name">Exercise Timer</h3>
                        <div class="timer-display mb-6" id="exercise-timer">00:00</div>
                        
                        <!-- Set Counter -->
                        <div class="mb-6">
                            <div class="text-sm text-gray-500 mb-2">Sets Completed</div>
                            <div class="flex items-center justify-center space-x-4">
                                <button onclick="decrementSets()" class="w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center">-</button>
                                <span class="text-2xl font-bold" id="sets-count">0</span>
                                <button onclick="incrementSets()" class="w-10 h-10 bg-blue-500 text-white rounded-full flex items-center justify-center">+</button>
                            </div>
                        </div>

                        <!-- Rep Counter -->
                        <div class="mb-6">
                            <div class="text-sm text-gray-500 mb-2">Reps per Set</div>
                            <div class="flex items-center justify-center space-x-4">
                                <button onclick="decrementReps()" class="w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center">-</button>
                                <span class="text-2xl font-bold" id="reps-count">12</span>
                                <button onclick="incrementReps()" class="w-10 h-10 bg-green-500 text-white rounded-full flex items-center justify-center">+</button>
                            </div>
                        </div>

                        <div class="flex space-x-3">
                            <button onclick="pauseExerciseTimer()" class="flex-1 bg-yellow-500 text-white py-3 rounded-lg font-medium">Pause</button>
                            <button onclick="completeExercise()" class="flex-1 bg-green-500 text-white py-3 rounded-lg font-medium">Complete</button>
                            <button onclick="closeTimerModal()" class="flex-1 bg-gray-500 text-white py-3 rounded-lg font-medium">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Floating Action Button -->
    <button class="floating-action bg-blue-500 text-white w-14 h-14 rounded-full flex items-center justify-center" onclick="showCustomWorkout()">
        <span class="text-2xl">+</span>
    </button>

    <!-- Bottom Navigation -->
    <nav class="nav-bottom">
        <div class="flex justify-around py-3">
            <a href="index.html" class="flex flex-col items-center text-gray-500">
                <span class="text-xl mb-1">üè†</span>
                <span class="text-xs">Home</span>
            </a>
            <a href="workouts.html" class="flex flex-col items-center text-blue-600">
                <span class="text-xl mb-1">üí™</span>
                <span class="text-xs font-medium">Workouts</span>
            </a>
            <a href="nutrition.html" class="flex flex-col items-center text-gray-500">
                <span class="text-xl mb-1">ü•ó</span>
                <span class="text-xs">Nutrition</span>
            </a>
            <a href="progress.html" class="flex flex-col items-center text-gray-500">
                <span class="text-xl mb-1">üìä</span>
                <span class="text-xs">Progress</span>
            </a>
        </div>
    </nav>

    <script>
        let exerciseTimerInterval;
        let exerciseSeconds = 0;
        let currentSets = 0;
        let currentReps = 12;
        let selectedExercise = '';

        document.addEventListener('DOMContentLoaded', function() {
            initializeCarousel();
            animateExerciseCards();
        });

        function initializeCarousel() {
            new Splide('#template-carousel', {
                type: 'loop',
                perPage: 1,
                perMove: 1,
                gap: '1rem',
                padding: '2rem',
                arrows: false,
                pagination: false,
                autoplay: true,
                interval: 4000,
            }).mount();
        }

        function animateExerciseCards() {
            anime({
                targets: '.exercise-card',
                translateY: [30, 0],
                opacity: [0, 1],
                duration: 600,
                delay: anime.stagger(100),
                easing: 'easeOutQuart'
            });
        }

        function filterExercises(category) {
            // Update active filter button
            document.querySelectorAll('.category-filter').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // Filter exercises
            const exercises = document.querySelectorAll('.exercise-card');
            exercises.forEach(exercise => {
                if (category === 'all' || exercise.dataset.category === category) {
                    exercise.style.display = 'block';
                    anime({
                        targets: exercise,
                        opacity: [0, 1],
                        translateY: [20, 0],
                        duration: 400,
                        easing: 'easeOutQuart'
                    });
                } else {
                    exercise.style.display = 'none';
                }
            });
        }

        function selectExercise(exerciseId) {
            selectedExercise = exerciseId;
            document.getElementById('exercise-name').textContent = exerciseId.replace('-', ' ').toUpperCase();
            document.getElementById('timer-modal').classList.remove('hidden');
            
            anime({
                targets: '#timer-modal',
                opacity: [0, 1],
                duration: 300,
                easing: 'easeOutQuart'
            });

            startExerciseTimer();
        }

        function startExerciseTimer() {
            exerciseTimerInterval = setInterval(() => {
                exerciseSeconds++;
                const mins = Math.floor(exerciseSeconds / 60);
                const secs = exerciseSeconds % 60;
                document.getElementById('exercise-timer').textContent = 
                    `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            }, 1000);
        }

        function pauseExerciseTimer() {
            clearInterval(exerciseTimerInterval);
            alert('Exercise paused. Take a break when needed!');
        }

        function incrementSets() {
            currentSets++;
            document.getElementById('sets-count').textContent = currentSets;
            animateCounter('sets-count');
        }

        function decrementSets() {
            if (currentSets > 0) {
                currentSets--;
                document.getElementById('sets-count').textContent = currentSets;
                animateCounter('sets-count');
            }
        }

        function incrementReps() {
            currentReps++;
            document.getElementById('reps-count').textContent = currentReps;
            animateCounter('reps-count');
        }

        function decrementReps() {
            if (currentReps > 1) {
                currentReps--;
                document.getElementById('reps-count').textContent = currentReps;
                animateCounter('reps-count');
            }
        }

        function animateCounter(elementId) {
            anime({
                targets: `#${elementId}`,
                scale: [1, 1.2, 1],
                duration: 300,
                easing: 'easeOutElastic(1, .8)'
            });
        }

        function completeExercise() {
            clearInterval(exerciseTimerInterval);
            const duration = exerciseSeconds;
            const calories = Math.round(duration * 0.1); // Rough calorie calculation
            
            alert(`Exercise completed!\nDuration: ${Math.floor(duration/60)}:${(duration%60).toString().padStart(2,'0')}\nEstimated calories: ${calories}\nSets: ${currentSets}\nReps: ${currentReps}`);
            
            closeTimerModal();
        }

        function closeTimerModal() {
            clearInterval(exerciseTimerInterval);
            document.getElementById('timer-modal').classList.add('hidden');
            exerciseSeconds = 0;
            currentSets = 0;
            currentReps = 12;
            document.getElementById('sets-count').textContent = '0';
            document.getElementById('reps-count').textContent = '12';
            document.getElementById('exercise-timer').textContent = '00:00';
        }

        function startTemplateWorkout(template) {
            alert(`Starting ${template} workout template! This would begin a guided workout session with multiple exercises.`);
        }

        function showCustomWorkout() {
            alert('Custom workout builder coming soon! Create your own exercise routines.');
        }
    </script>
</body>
</html>